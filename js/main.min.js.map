{"version":3,"sources":["main.js"],"names":["videoBackgrounds","$","each","index","item","container","find","video","css","height","newHeight","lazyLoadBackgrounds","window","width","extraLargeImagesTriggerWidth","background-image","data","largeImagesTriggerWidth","layoutFixSearchInput","minus","closeAllPosts","removeClass","i","el","style","html","slideUp","fastAnimationSpeed","sidebarInit","sidebarButton","on","sidebar","hasClass","attr","addClass","postsInit","e","preventDefault","this","parent","post","postVimeoId","postVimeoRatio","postVimeoHeight","slideDown","iframe","player","$f","addEvent","scrollTimer","setTimeout","ScrollTo","basicAnimationSpeed","$post","embed","JSON","parse","directorInit","onhashchange","hash","location","replace","router","overlayVimeoPlayer","load","overlayImage","children","clone","close","playNext","playPrev","next","prev","inlineVimeoPlayer","tagFilters","tag","length","remove","clearTimeout","tagFilterTimeout","tagFilterTimeout2","directorArchiveVideos","transform","hide","filter","show","page","eq","indexOf","substring","videoElement","imagesLoaded","masonry","itemSelector","scrollTo","initializeMap","myLatlng","google","maps","LatLng","mapOptions","center","zoom","scrollwheel","styles","featureType","elementType","stylers","color","visibility","saturation","lightness","map","Map","document","getElementById","contentString","infowindow","InfoWindow","content","marker","Marker","position","icon","wp_variables","themeUrl","open","event","addListener","ajaxBefore","fadeOut","ajaxErrorHandler","jqXHR","textStatus","errorThrown","console","log","ajaxDirectorSuccess","url","title","innerText","history","pushState","fadeIn","clickedMenuItem","lazyThumbnails","lazyBackgrounds","directorShowreelVideos","directorShowreelLength","ajaxIndexSuccess","ajaxPageSuccess","directorStills","directorStillsLength","viewer","overlay","overlayInner","overlayDirector","overlayTitle","timeout","image","postData","postIndex","_this","removeAttr","director","caption","fixHeight","resize","nowPlayingIndex","nextIndex","prevousIndex","windowHeight","overlayMiddot","overlayBrand","ratio","undefined","videoRatio","vimeoId","padding-top","brand","inlineTitle","inlineBrand","inlineMiddot","archiveVideo","archiveVideoData","id","nowPlayingId","currentPlaylist","currentPlaylistLength","element","slice","ready","click","currentTarget","href","ajax","beforeSend","dataType","error","success","resizeTimer","addDomListener"],"mappings":"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","file":"main.min.js","sourcesContent":["/* jshint browser: true, devel: true, indent: 2, curly: true, eqeqeq: true, futurehostile: true, latedef: true, undef: true, unused: true */\n/* global $, document, wp_variables, google, $f */\n\nvar largeImagesTriggerWidth = 700,\n  extraLargeImagesTriggerWidth = 1100,\n\n  basicAnimationSpeed = 600,\n  fastAnimationSpeed = 200,\n\n  scrollTimer,\n\n  directorShowreelVideos = $('.director-showreel-video'),\n  directorShowreelLength = directorShowreelVideos.length,\n\n  directorStills = $('.still'),\n  directorStillsLength = directorStills.length,\n\n\n  sidebar = $('#sidebar'),\n  sidebarButton = $('#sidebar-toggle'),\n\n  tagFilters = $('.filter-tag'),\n  tagFilterTimeout,\n  tagFilterTimeout2,\n  directorArchiveVideos = $('.director-archive-video'),\n\n  clickedMenuItem;\n\n// GENERIC FUNCTIONS\n\nfunction videoBackgrounds() {\n  $('.home-news').each(function (index, item) {\n    var container = $(item).find('.u-holder');\n    var video = $(item).find('video');\n\n    video.css('min-width', '');\n    if( container.height() > video.height() ) {\n      var newHeight = container.height() / video.height() * 103;\n      video.css('min-width', newHeight + '%');\n    }\n  });\n}\n\nfunction lazyLoadBackgrounds() {\n  $('.js-lazy-background').each(function (index, item) {\n    if ($(window).width() > extraLargeImagesTriggerWidth) {\n      $(item).css({\n        'background-image': 'url(' + $(item).data('thumb-extra-large') + ')'\n      });\n    } else if ($(window).width() > largeImagesTriggerWidth) {\n      $(item).css({\n        'background-image': 'url(' + $(item).data('thumb-large') + ')'\n      });\n    } else {\n      $(item).css({\n        'background-image': 'url(' + $(item).data('thumb') + ')'\n      });\n    }\n  });\n}\n\nfunction layoutFixSearchInput() {\n  var width = $('#search-form').width();\n  var minus = $('#search-label').width();\n  $('#search-input').width(width - minus - 20);\n}\n\n//   HOMEPAGE FUNCTIONS\n\nfunction closeAllPosts() {\n  $('.home-post').removeClass('active');\n  $('.post-main').each(function (i, el) {\n    el.style.height = '';\n  });\n  $('.home-video-player').html('');\n  $('.embed-holder').html('');\n  $('.post-copy').slideUp(fastAnimationSpeed);\n}\n\n//  TEMPLATE INITS\n\nfunction sidebarInit() {\n  // TOGGLE SIDEBAR\n  sidebarButton.on('click', function() {\n    if (sidebar.hasClass('open')) {\n      sidebar.removeClass('open');\n      // jQuery cant add/removeClass on SVG elements [wtf]\n      sidebarButton.attr('class', 'u-pointer');\n    } else {\n      sidebar.addClass('open');\n      sidebarButton.attr('class', 'u-pointer rotate');\n    }\n  });\n}\n\n// POSTS INIT\n\nfunction postsInit() {\n\n  // HOME POSTS CLOSE\n  $('.post-copy-close').on('click', function(e) {\n    e.preventDefault();\n    $(this).parent('.post-copy').parent().removeClass('active');\n    closeAllPosts();\n  });\n\n  // HOME VIDEO POSTS OPEN\n  $('.home-video .post-main').on('click', function(e) {\n    e.preventDefault();\n    closeAllPosts();\n    var post = $(this).parent(),\n      postVimeoId = post.data('vimeo-id'),\n      postVimeoRatio = post.data('video-ratio');\n    if (postVimeoRatio === 0) {\n      postVimeoRatio = 0.5625;\n    }\n    var postVimeoHeight = (post.width() * postVimeoRatio);\n    post.addClass('active');\n    post.find('.post-copy').slideDown(fastAnimationSpeed);\n    post.find('.post-main').height(postVimeoHeight);\n    post.find('.home-video-player').height(postVimeoHeight).html('<iframe id=\"home-vimeo-embed\" width=\"100%\" height=\"100%\" src=\"//player.vimeo.com/video/' + postVimeoId + '?api=1&autoplay=1&badge=0&byline=0&portrait=0&player_id=home-vimeo-embed\" frameborder=\"0\" webkitallowfullscreen mozallowfullscreen allowfullscreen></iframe>');\n    var iframe = $('#home-vimeo-embed')[0],\n      player = $f(iframe);\n    player.addEvent('ready', function () {\n      player.addEvent('finish', function () {\n        post.find('.home-video-player').html('');\n      });\n    });\n    scrollTimer = setTimeout(function () {\n      post.ScrollTo();\n    }, basicAnimationSpeed);\n  });\n\n  // NEWS POSTS OPEN\n  $('.news-read-more .post-main').on('click', function(e) {\n    e.preventDefault();\n    closeAllPosts();\n\n    var $post = $(this).parent();\n\n    $post.find('.post-copy').slideDown(fastAnimationSpeed, function() {\n      $post.addClass('active');\n\n      scrollTimer = setTimeout(function () {\n        $post.ScrollTo();\n      }, (fastAnimationSpeed + 10));\n    });\n\n    if ($post.data('embed')) {\n      var embed = JSON.parse($post.data('embed'));\n\n      $post.find('.embed-holder').html(embed);\n    }\n  });\n}\n\n//   DIRECTOR SINGLE FUNCTIONS\n\nfunction directorInit() {\n\n    // Router: on change\n  window.onhashchange = function () {\n    var hash = window.location.hash.replace(\"#\",'');\n    router( 'director', hash );\n  };\n\n  // Router: on load\n  if ( window.location.hash ) {\n    var hash = window.location.hash.replace(\"#\",'');\n    router( 'director', hash );\n  }\n\n    // LOAD SHOWREEL VIDEOS IN OVERLAY\n\n  $('.js-load-overlay-vimeo').on('click', function () {\n    overlayVimeoPlayer.load($(this).data(), $(this).index());\n  });\n\n    // LOAD STILLS IN OVERLAY\n\n  $('.js-load-overlay-image').on('click', function () {\n    overlayImage.load($(this).children('.full-still').clone(), $(this).data(), $(this).index());\n  });\n\n\n    // OVERLAY NAVS\n\n  $('#video-overlay-close').on('click', function () {\n    overlayVimeoPlayer.close();\n  });\n\n  $('#video-overlay-next').on('click', function () {\n    overlayVimeoPlayer.playNext();\n  });\n\n  $('#video-overlay-previous').on('click', function () {\n    overlayVimeoPlayer.playPrev();\n  });\n\n  $('#image-overlay-close').on('click', function () {\n    overlayImage.close();\n  });\n\n  $('#image-overlay-next, #image-overlay-viewer').on('click', function () {\n    overlayImage.next();\n  });\n\n  $('#image-overlay-previous').on('click', function () {\n    overlayImage.prev();\n  });\n\n\n    // INLINE PLAYER NAVS\n\n  $('#inline-player-next').on('click', function () {\n    inlineVimeoPlayer.next();\n  });\n\n  $('#inline-player-previous').on('click', function () {\n    inlineVimeoPlayer.playPrev();\n  });\n\n    // TAG FILTERS\n\n      // FIX\n\n  tagFilters.each(function() {\n    var tag = $(this).data('tag-slug');\n    if (tag != 'all') {\n      if ($('.tag-'+tag).length === 0) {\n        $(this).remove();\n      }\n    }\n  });\n\n    // FILTERING\n\n  tagFilters.on('click', function () {\n    tagFilters.removeClass('filter-tag-active');\n    $(this).addClass('filter-tag-active');\n\n    var tag = $(this).data('tag-slug');\n    if (tag !== 'all') {\n//       directorArchiveVideos.removeClass('active').filter('.tag-' + tag).addClass('active');\n\n      clearTimeout(tagFilterTimeout);\n      clearTimeout(tagFilterTimeout2);\n\n      directorArchiveVideos.css({\n        'transform': 'scale(0)'\n      });\n      tagFilterTimeout = setTimeout(function() {\n        directorArchiveVideos.hide().filter('.tag-' + tag).show();\n\n        tagFilterTimeout2 = setTimeout(function() {\n          directorArchiveVideos.filter('.tag-' + tag).css({\n            'transform': 'scale(1)'\n          });\n        }, fastAnimationSpeed);\n\n      }, fastAnimationSpeed);\n\n    } else {\n//       directorArchiveVideos.addClass('active');\n\n      clearTimeout(tagFilterTimeout);\n      clearTimeout(tagFilterTimeout2);\n\n      directorArchiveVideos.css({\n        'transform': 'scale(0)'\n      });\n      tagFilterTimeout = setTimeout(function() {\n        directorArchiveVideos.hide().show();\n\n        tagFilterTimeout2 = setTimeout(function() {\n          directorArchiveVideos.css({\n            'transform': 'scale(1)'\n          });\n        }, fastAnimationSpeed);\n\n      }, fastAnimationSpeed);\n\n    }\n  });\n\n}\n// OVERLAY IMAGE\nvar overlayImage = {\n\n  viewer: $('#image-overlay-viewer'),\n\n  overlay: $('#image-overlay'),\n  overlayInner: $('#image-overlay-inner'),\n\n  overlayDirector: $('#image-overlay-director'),\n  overlayTitle: $('#image-overlay-title'),\n\n  timeout: 0,\n\n  load: function(image, postData, postIndex) {\n    var _this = this;\n\n    image.attr('max-width', '100%').removeAttr('width').removeAttr('height');\n\n    _this.overlay.fadeIn(fastAnimationSpeed).data('now-playing', postIndex);\n    _this.viewer.html(image);\n\n    _this.overlayDirector.html(postData.director);\n\n    if( postData.caption.length !== 0 ) {\n      _this.overlayTitle.html(postData.caption);\n    } else {\n      _this.overlayTitle.html('&nbsp');\n    }\n\n    // use fixHeight after animations\n      _this.fixHeight();\n\n    $(window).resize(function() {\n      _this.fixHeight();\n    });\n\n\n  },\n\n  next: function () {\n    var nowPlayingIndex = this.overlay.data('now-playing'),\n      nextIndex = nowPlayingIndex + 1;\n    if (directorStillsLength > nextIndex) {\n      var image = directorStills.eq(nextIndex).children('.full-still').clone();\n      this.load(image, directorStills.eq(nextIndex).data(), nextIndex);\n    } else {\n      var image = directorStills.eq(0).children('.full-still').clone();\n      this.load(image, directorStills.eq(0).data(), 0);\n    }\n  },\n\n  prev: function () {\n    var nowPlayingIndex = this.overlay.data('now-playing'),\n      prevousIndex = nowPlayingIndex - 1;\n    if (prevousIndex === -1) {\n      var image = directorStills.eq(directorStillsLength - 1).children('.full-still').clone();\n      this.load(image, directorStills.eq(directorStillsLength - 1).data(), directorStillsLength - 1);\n    } else {\n      var image = directorStills.eq(prevousIndex).children('.full-still').clone();\n      this.load(image, directorStills.eq(prevousIndex).data(), prevousIndex);\n    }\n  },\n\n  close: function () {\n    this.overlay.fadeOut(fastAnimationSpeed).data('now-playing', '');\n    this.viewer.html('');\n  },\n\n  fixHeight: function () {\n\n    this.overlayInner.height('auto');\n    this.overlayInner.width('80%');\n\n    var windowHeight = $(window).height();\n    var height = this.overlayInner.height();\n\n\n    while (height > (windowHeight*0.95)) {\n      this.overlayInner.width(this.overlayInner.width()*0.95);\n      height = this.overlayInner.height();\n    }\n  }\n\n};\n\n// OVERLAY PLAYER\nvar overlayVimeoPlayer = {\n\n  player: $('#video-overlay-player'),\n\n  overlay: $('#video-overlay'),\n  overlayInner: $('#video-overlay-inner'),\n\n  overlayDirector: $('#video-overlay-director'),\n  overlayTitle: $('#video-overlay-title'),\n  overlayMiddot: $('#video-overlay-middot'),\n  overlayBrand: $('#video-overlay-brand'),\n\n  timeout: 0,\n\n  load: function (postData, postIndex) {\n    var _this = this;\n    var ratio;\n\n    if (postData.videoRatio === undefined) {\n      ratio = 0.5625;\n    } else {\n      ratio = postData.videoRatio;\n    }\n    _this.overlay.fadeIn(fastAnimationSpeed).data('now-playing', postIndex);\n    _this.player.html('<iframe id=\"overlay-vimeo-player-embed\" src=\"//player.vimeo.com/video/' + postData.vimeoId + '?api=1&autoplay=1&badge=0&byline=0&portrait=0&player_id=overlay-vimeo-player-embed\" frameborder=\"0\" webkitallowfullscreen mozallowfullscreen allowfullscreen></iframe>').css({\n      'padding-top': (ratio * 100) + '%'\n    });\n    _this.overlayDirector.html(postData.director);\n    _this.overlayTitle.html(postData.title);\n    _this.overlayBrand.html(postData.brand);\n\n    // hide middot if title or brand is blank\n    _this.overlayMiddot.show();\n    if (postData.title === '' || postData.brand === '') {\n      _this.overlayMiddot.hide();\n    }\n\n    // use fixHeight after animations\n    _this.timeout = setTimeout(function() {\n      _this.fixHeight();\n    }, (basicAnimationSpeed + fastAnimationSpeed + 1));\n    $(window).resize(function() {\n      this.timeout = setTimeout(function() {\n        _this.fixHeight();\n      }, 50);\n    });\n\n    var iframe = $('#overlay-vimeo-player-embed')[0],\n      player = $f(iframe);\n    player.addEvent('ready', function () {\n      player.addEvent('finish', function () {\n        _this.playNext();\n      });\n    });\n  },\n\n  playNext: function () {\n    var nowPlayingIndex = this.overlay.data('now-playing'),\n      nextIndex = nowPlayingIndex + 1;\n    if (directorShowreelLength > nextIndex) {\n      this.load(directorShowreelVideos.eq(nextIndex).data(), nextIndex);\n    } else {\n      this.load(directorShowreelVideos.eq(0).data(), 0);\n    }\n  },\n\n  playPrev: function () {\n    var nowPlayingIndex = this.overlay.data('now-playing'),\n      prevousIndex = nowPlayingIndex - 1;\n    if (prevousIndex === -1) {\n      this.load(directorShowreelVideos.eq(directorShowreelLength - 1).data(), directorShowreelLength - 1);\n    } else {\n      this.load(directorShowreelVideos.eq(prevousIndex).data(), prevousIndex);\n    }\n  },\n\n  close: function () {\n    this.overlay.fadeOut(fastAnimationSpeed).data('now-playing', '');\n    this.player.html('');\n  },\n\n  fixHeight: function () {\n\n    var windowHeight = $(window).height(),\n      height = this.overlayInner.height();\n\n    while (height > (windowHeight*0.95)) {\n      this.overlayInner.width(this.overlayInner.width()*0.95);\n      height = this.overlayInner.height();\n    }\n  }\n\n};\n\n// INLINE PLAYER\nvar inlineVimeoPlayer = {\n\n  player: $('#vimeo-player'),\n  inlineTitle: $('#inline-title'),\n  inlineBrand: $('#inline-brand'),\n  inlineMiddot: $('#inline-middot'),\n\n  load: function (archiveVideo) {\n\n    this.player = $('#vimeo-player');\n    this.inlineTitle = $('#inline-title');\n    this.inlineBrand = $('#inline-brand');\n    this.inlineMiddot = $('#inline-middot');\n\n    var archiveVideoData = archiveVideo.data(),\n      ratio = archiveVideoData.videoRatio;\n\n    if (ratio === undefined) {\n      ratio = 0.5625;\n    }\n\n    this.inlineTitle.html(archiveVideoData.title);\n    this.inlineBrand.html(archiveVideoData.brand);\n    // hide middot if title or brand is blank\n    this.inlineMiddot.show();\n    if (archiveVideoData.title === '' || archiveVideoData.brand === '') {\n      this.inlineMiddot.hide();\n    }\n\n    this.player.data('now-playing-id', archiveVideo[0].id).html('<iframe id=\"inline-vimeo-player-embed\" src=\"//player.vimeo.com/video/' + archiveVideoData.vimeoId + '?api=1&autoplay=1&badge=0&byline=0&portrait=0&player_id=inline-vimeo-player-embed\" frameborder=\"0\" webkitallowfullscreen mozallowfullscreen allowfullscreen></iframe>').css({\n      'padding-top': (ratio * 100) + '%'\n    });\n    $('html').addClass('cinema-mode');\n    $('#main-content').ScrollTo();\n\n    var iframe = $('#inline-vimeo-player-embed')[0],\n      player = $f(iframe);\n    player.addEvent('ready', function () {\n      player.addEvent('finish', function () {\n        inlineVimeoPlayer.playNext();\n      });\n    });\n\n  },\n\n  playNext: function () {\n\n    var nowPlayingId = this.player.data('now-playing-id'),\n      currentPlaylist = $('.director-archive-video:visible').parent('a'),\n      currentPlaylistLength = currentPlaylist.length,\n      nowPlayingIndex;\n\n    currentPlaylist.each(function (index, element) {\n      if (nowPlayingId === $(element).children('.video')[0].id) {\n        nowPlayingIndex = index;\n      }\n    });\n\n    if (nowPlayingIndex === undefined || nowPlayingIndex === (currentPlaylistLength - 1)) {\n      window.location.hash = $(currentPlaylist[0]).attr('href').slice(1);\n    } else {\n      window.location.hash = $(currentPlaylist[(nowPlayingIndex + 1)]).attr('href').slice(1);\n    }\n\n  },\n\n  playPrev: function () {\n\n    var nowPlayingId = this.player.data('now-playing-id'),\n      currentPlaylist = $('.director-archive-video:visible').parent('a'),\n      currentPlaylistLength = currentPlaylist.length,\n      nowPlayingIndex;\n\n    currentPlaylist.each(function (index, element) {\n      if (nowPlayingId === $(element).children('.video')[0].id) {\n        nowPlayingIndex = index;\n      }\n    });\n\n    if (nowPlayingIndex === undefined) {\n      window.location.hash = $(currentPlaylist[0]).attr('href').slice(1);\n    } else if (nowPlayingIndex === 0) {\n      window.location.hash = $(currentPlaylist[(currentPlaylistLength - 1)]).attr('href').slice(1);\n    } else {\n      window.location.hash = $(currentPlaylist[(nowPlayingIndex - 1)]).attr('href').slice(1);\n    }\n\n  },\n\n  close: function () {\n    $('html').removeClass('cinema-mode');\n    $('#now-playing-title').html('');\n    this.player.html('').css({\n      'padding-top': '0%'\n    }).data('now-playing', '');\n  }\n\n};\n\n// ROUTER\n\nfunction router( page, hash ) {\n\n  // Routes: Director Page\n  if ( page === 'director') {\n      $('.director-menu-item').removeClass('active');\n\n    // play all showreel\n    if ( hash === 'play-all' ) {\n\n      overlayVimeoPlayer.load( $('.director-showreel-video').eq(0).data(), 0 );\n\n    // load direct to showreel\n    } else if ( hash.indexOf('showreel-') === 0) {\n\n      var video = hash.substring(9),\n        videoElement = $('.director-showreel-video[data-slug=\"' + video + '\"]');\n\n      if (videoElement) {\n        overlayVimeoPlayer.load(videoElement.data(), videoElement.index());\n      }\n\n    // load archive & possible a specific video\n    } else if ( hash.indexOf('video-') === 0 || hash === 'archive' ) {\n\n      if ( $('#director-menu').attr('data-active') !== 'archive' ) {\n        inlineVimeoPlayer.close();\n        $('.director-section').slideUp(basicAnimationSpeed);\n        $('#director-archive').slideDown(basicAnimationSpeed);\n        $('#director-menu').attr('data-active', 'archive');\n      } else if ( hash === 'archive' ) {\n        inlineVimeoPlayer.close();\n      }\n\n      // #video-XXXX\n      if ( hash.indexOf('video-') === 0 ) {\n        inlineVimeoPlayer.load( $(\"#director-archive-\" + hash ) );\n        $('#vimeo-player').slideDown(basicAnimationSpeed);\n        $('#director-menu').attr('data-active', 'archive');\n      }\n\n      $('#director-menu-archive').addClass('active');\n\n    // #stills\n    } else if ( hash === 'stills' ) {\n      // MASONRY\n      $('#stills-container').imagesLoaded( function() {\n        $('#stills-container').masonry({\n          itemSelector: '.still',\n        });\n      });\n\n      inlineVimeoPlayer.close();\n\n      $('.director-section').slideUp(basicAnimationSpeed);\n\n      $('#director-stills').slideDown(basicAnimationSpeed);\n      $('#director-menu').attr('data-active', 'stills' );\n      $('#director-menu-stills').addClass('active');\n\n    // #biography\n    } else if ( hash === 'biography' ) {\n      inlineVimeoPlayer.close();\n      $('#director-stills').slideUp(basicAnimationSpeed);\n\n      $('#director-showreel').slideDown(basicAnimationSpeed);\n      $('#director-biography').slideDown(basicAnimationSpeed);\n\n      $(window).scrollTo($('#director-biography'), basicAnimationSpeed);\n\n      $('#director-menu').attr('data-active', 'biography' );\n      $('#director-menu-biography').addClass('active');\n    } else {\n      inlineVimeoPlayer.close();\n      $('#director-menu').attr('data-active', '');\n      $('.director-section').slideUp(basicAnimationSpeed);\n      $('#director-showreel').slideDown(basicAnimationSpeed);\n    }\n  }\n}\n\n// MAP EMBED\nfunction initializeMap() {\n  var myLatlng = new google.maps.LatLng(51.513748, -0.139104);\n  var mapOptions = {\n    center: myLatlng,\n    zoom: 14,\n    scrollwheel: false,\n    styles: [{\n          \"featureType\": \"administrative\",\n          \"elementType\": \"labels.text.fill\",\n          \"stylers\": [{\n              \"color\": \"#444444\"\n          }]\n      }, {\n          \"featureType\": \"landscape\",\n          \"elementType\": \"all\",\n          \"stylers\": [{\n              \"color\": \"#f2f2f2\"\n          }]\n      }, {\n          \"featureType\": \"poi\",\n          \"elementType\": \"all\",\n          \"stylers\": [{\n              \"visibility\": \"off\"\n          }]\n      }, {\n          \"featureType\": \"road\",\n          \"elementType\": \"all\",\n          \"stylers\": [{\n              \"saturation\": -100\n          }, {\n              \"lightness\": 45\n          }]\n      }, {\n          \"featureType\": \"road.highway\",\n          \"elementType\": \"all\",\n          \"stylers\": [{\n              \"visibility\": \"simplified\"\n          }]\n      }, {\n          \"featureType\": \"road.arterial\",\n          \"elementType\": \"labels.icon\",\n          \"stylers\": [{\n              \"visibility\": \"off\"\n          }]\n      }, {\n          \"featureType\": \"transit\",\n          \"elementType\": \"all\",\n          \"stylers\": [{\n              \"visibility\": \"off\"\n          }]\n      }, {\n          \"featureType\": \"water\",\n          \"elementType\": \"all\",\n          \"stylers\": [{\n              \"color\": \"#01bcec\"\n          }, {\n              \"visibility\": \"on\"\n          }]\n      }]\n  };\n  var map = new google.maps.Map(document.getElementById('map-canvas'), mapOptions);\n  var contentString = $('#map-copy').html();\n  var infowindow = new google.maps.InfoWindow({\n      content: contentString\n  });\n  var marker = new google.maps.Marker({\n    position: myLatlng,\n    map: map,\n    icon: wp_variables.themeUrl + '/img/dist/ns-mapmarker.png'\n  });\n  infowindow.open(map,marker);\n  google.maps.event.addListener(marker, 'click', function() {\n    infowindow.open(map,marker);\n  });\n  $('#map-canvas').height(($(window).height()*0.5));\n}\n\n// AJAX FUNCTIONS\n\nfunction ajaxBefore() {\n  $('#main-content').fadeOut(fastAnimationSpeed);\n  $('#sidebar li').removeClass('menu-active');\n  $('#sidebar').removeClass('open');\n  $('html').removeClass('cinema-mode');\n}\n\nfunction ajaxErrorHandler(jqXHR, textStatus, errorThrown) {\n  console.log('ajaxy error');\n  console.log(errorThrown);\n}\n\nfunction ajaxDirectorSuccess(data, url) {\n\n  var title = $(data)[5].innerText;\n\n  history.pushState(null, title, url);\n  document.title = title;\n\n  var content = $(data).find('#main-content');\n\n  $('#main-content').html(content.html());\n  $('#main-content').fadeIn(basicAnimationSpeed);\n\n  clickedMenuItem.addClass('menu-active');\n\n  lazyLoadBackgrounds();\n  videoBackgrounds();\n\n  // REINIT\n  lazyThumbnails = $('.lazy-thumb');\n  lazyBackgrounds = $('.js-lazy-background');\n  directorShowreelVideos = $('.director-showreel-video');\n  directorShowreelLength = directorShowreelVideos.length;\n  tagFilters = $('.filter-tag');\n  directorArchiveVideos = $('.director-archive-video');\n  directorInit();\n\n}\n\nfunction ajaxIndexSuccess(data, url) {\n\n  var title = $(data)[5].innerText;\n\n  history.pushState(null, title, url);\n  document.title = title;\n\n  var content = $(data).find('#main-content');\n\n  $('#main-content').html(content.html());\n  $('#main-content').fadeIn(basicAnimationSpeed);\n\n  clickedMenuItem.addClass('menu-active');\n\n  lazyLoadBackgrounds();\n  videoBackgrounds();\n\n  // REINIT\n  postsInit();\n\n}\n\nfunction ajaxPageSuccess(data, url) {\n\n  var title = $(data)[5].innerText;\n\n  history.pushState(null, title, url);\n  document.title = title;\n\n  var content = $(data).find('#main-content');\n\n  $('#main-content').html(content.html());\n  $('#main-content').fadeIn(basicAnimationSpeed);\n\n  clickedMenuItem.addClass('menu-active');\n\n  if ($('#map-canvas').length) {\n    initializeMap();\n  }\n\n}\n\n// DOC READY BRO\n\n$(document).ready(function () {\n\n  $('.js-ajax-director').on({\n    'click': function(e) {\n      e.preventDefault();\n\n      var url = e.currentTarget.href;\n      clickedMenuItem = $(this).parent();\n\n      $.ajax(url, {\n        beforeSend: function() {\n          ajaxBefore();\n        },\n        dataType: 'html',\n        error: function(jqXHR, textStatus, errorThrown) {\n          ajaxErrorHandler(jqXHR, textStatus, errorThrown);\n        },\n        success: function(data) {\n          ajaxDirectorSuccess(data, url);\n        }\n      });\n    }\n  });\n\n  $('.js-ajax-index').on({\n    'click': function(e) {\n      e.preventDefault();\n\n      var url = e.currentTarget.href;\n      clickedMenuItem = $(this).parent();\n\n      $.ajax(url, {\n        beforeSend: function() {\n          ajaxBefore();\n        },\n        dataType: 'html',\n        error: function(jqXHR, textStatus, errorThrown) {\n          ajaxErrorHandler(jqXHR, textStatus, errorThrown);\n        },\n        success: function(data) {\n          ajaxIndexSuccess(data, url);\n        }\n      });\n    }\n  });\n\n  $('.js-ajax-page').on({\n    'click': function(e) {\n      e.preventDefault();\n\n      var url = e.currentTarget.href;\n      clickedMenuItem = $(this).parent();\n\n      $.ajax(url, {\n        beforeSend: function() {\n          ajaxBefore();\n        },\n        dataType: 'html',\n        error: function(jqXHR, textStatus, errorThrown) {\n          ajaxErrorHandler(jqXHR, textStatus, errorThrown);\n        },\n        success: function(data) {\n          ajaxPageSuccess(data, url);\n        }\n      });\n    }\n  });\n\n  layoutFixSearchInput();\n\n  postsInit();\n  sidebarInit();\n\n  if ($('.js-lazy-background').length) {\n    lazyLoadBackgrounds();\n  }\n\n  if ($('.webm-background-container').length) {\n    videoBackgrounds();\n\n    var resizeTimer;\n\n    $(window).on('resize', function(e) {\n\n      clearTimeout(resizeTimer);\n      resizeTimer = setTimeout(function() {\n      videoBackgrounds();\n\n      }, 500);\n\n    });\n  }\n\n  if ( $('body').hasClass('single-director') ) {\n    directorInit();\n  }\n\n  if ($('#map-canvas').length) {\n    google.maps.event.addDomListener(window, 'load', initializeMap);\n  }\n\n});\n"],"sourceRoot":"/source/"}